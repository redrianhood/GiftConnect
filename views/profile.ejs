<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link rel="stylesheet" href="/stylesheets/style.css">

  <%- include('templates/icon&font') %>
    <title>Gift Connect</title>
</head>

<body>
  <div class="container-fluid title">
    <h1 class="display-4 text-center mb-5 pt-5">Welcome to your Gift Connect <%= name %>!</h1>
    <div class="row">
      <div class="col-4 offset-md-9 offset-8">
        <a class="btn btn-log btn-sm justify-content-end" id="btn-logout" href="/logout" role="button">Log
          out</a>
      </div>
    </div>
    <hr class="my-4">
  </div>

  <div class="row justify-content-center mb-5">
    <img class="svg" src="/images/undraw_gifts.svg" alt="Little gift monsters with gifts">
  </div>

  <div class="container-fluid">
    <h4 class="col-lg-6 col-9 mx-auto mb-5 text-center">Below you'll find all you need to start your GiftConnect
      journey! Just start putting in the information of gifts you want to buy, edit them when needed, or delete them if
      you're all done!</h4>
  </div>

  <div class="container-fluid" id="form-container">
    <form id="gift-form">
      <div class="form-group col-lg-4 col-md-6 col-9 mx-auto mb-3">
        <label for="giftName" class="form-label">Gift Name</label>
        <input required name="giftName" type="text" class="form-control" id="giftName" placeholder="What is the gift?">
      </div>
      <div class="form-group col-lg-4 col-md-6 col-9 mx-auto mb-3">
        <label for="recipient" class="form-label">Recipient</label>
        <input required name="recipient" type="text" class="form-control" id="recipient" placeholder="Who is it for?">
      </div>
      <div class="form-group col-lg-4 col-md-6 col-9 mx-auto mb-3">
        <label for="link" class="form-label">Purchase Link</label>
        <input required name="link" type="url" class="form-control" id="link" placeholder="Where can you buy it?">
      </div>
      <div class="form-group col-lg-4 col-md-6 col-9 mx-auto mb-3">
        <label for="date" class="form-label">Gift Date</label>
        <input name="date" type="text" class="form-control" id="date" placeholder="What date is it for?">
      </div>
      <br>
      <div class="d-grid d-flex justify-content-center">
        <button type="submit" class="btn btn-my mb-3 col-lg-2 col-md-4 col-6">Add Gift</button>
      </div>
    </form>
  </div>

  <!-- Card Container for Gifts -->
  <div class="container-fluid">
    <div class="d-flex flex-wrap justify-content-evenly" id="gift-container">
      <% for(let i=0; i < gifts.length; i++) { %>
        <div class="card border-dark mb-3" style="width: 18rem;">
          <h4 class="card-header">
            <%= gifts[i].giftName %>
          </h4>
          <img src="<%= gifts[i].photo %> " class="card-img-top" alt="<%= gifts[i].giftName %>">
          <div class="card-body">
            <h5 class="card-title">For: <%= gifts[i].recipient %>
            </h5>
            <ul class="list-group list-group-flush">
              <li class="list-group-item">On: <%= gifts[i].date %>
              </li>
              <li class="list-group-item"><a href="<%= gifts[i].link %>" id="card-links">Buy Now</a></li>
            </ul>
          </div>
          <div dbid="<%= gifts[i]._id %>" class="card-body">

            <button class="btn btn-info edit-btn" dbid="<%= gifts[i]._id %>">Edit</button>
            <button class="btn btn-danger delete-btn" dbid="<%= gifts[i]._id %>">Delete</button>
          </div>
        </div>
        <% } %>
    </div>
  </div>

  <%- include('templates/footer'); %>

    <!-- JS -->
    <!-- bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"></script>

    <script src="/javascripts/script.js"></script>

</body>

</html>